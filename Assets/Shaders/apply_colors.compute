#pragma kernel apply_colors
#include "blocks/block.cginc"
#include "blocks/block_helpers.cginc"

int2 texture_size;
RWStructuredBuffer<block> blocks;
RWTexture2D<float4> colors;

[numthreads(8,8,1)]
void apply_colors(uint3 id : SV_DispatchThreadID)
{
    const int3 pos = get_block_position(id.xy, texture_size);

    colors[pos.xy] = blocks[pos.z].color;
}
